#include <math.h>
#include <Adafruit_TFTLCD.h>
#include <TFTGraph.h>

Adafruit_TFTLCD tft;
TFTGraph gfx(tft);

void setup() {
  tft.begin(0x9325);
  tft.reset();
  tft.setRotation(1);

  tft.fillScreen(0x0000);
}

void loop() {
  tft.fillScreen(0x0000);
  /*
  1. x
  2. y
  3. color/group
  */
float data[][3] = {
    // Group 0 (lower-left-ish, spreads upward)
    {1.1, 2.3, 0},
    {1.4, 2.7, 0},
    {1.8, 3.0, 0},
    {2.0, 3.4, 0},
    {1.6, 3.1, 0},
    {2.2, 3.6, 0},
    {1.9, 2.9, 0},
    {2.4, 3.8, 0},
    {1.3, 2.5, 0},
    {2.1, 3.2, 0},
    {2.6, 3.9, 0},
    {1.7, 2.8, 0},
    {2.3, 3.5, 0},
    {1.5, 2.6, 0},
    {2.0, 3.1, 0},

    // Group 1 (overlaps with group 0 & 2)
    {2.8, 2.4, 1},
    {3.1, 2.7, 1},
    {3.4, 3.0, 1},
    {3.0, 2.9, 1},
    {3.6, 3.2, 1},
    {3.2, 2.6, 1},
    {3.8, 3.5, 1},
    {2.9, 2.5, 1},
    {3.5, 3.1, 1},
    {3.3, 2.8, 1},
    {4.0, 3.6, 1},
    {3.7, 3.3, 1},
    {3.1, 2.9, 1},
    {3.9, 3.4, 1},
    {3.4, 3.0, 1},

    // Group 2 (upper-middle, overlaps with group 1)
    {3.2, 3.8, 2},
    {3.6, 4.1, 2},
    {3.9, 4.4, 2},
    {4.1, 4.0, 2},
    {3.7, 4.2, 2},
    {4.4, 4.6, 2},
    {3.5, 3.9, 2},
    {4.0, 4.3, 2},
    {4.2, 4.1, 2},
    {3.8, 4.0, 2},
    {4.6, 4.7, 2},
    {3.9, 4.2, 2},
    {4.3, 4.5, 2},
    {3.6, 3.8, 2},
    {4.1, 4.4, 2},

    // Group 3 (right side, overlaps with group 2)
    {4.8, 3.6, 3},
    {5.1, 3.9, 3},
    {5.4, 4.2, 3},
    {5.0, 3.8, 3},
    {5.6, 4.5, 3},
    {5.2, 4.0, 3},
    {5.8, 4.6, 3},
    {4.9, 3.7, 3},
    {5.5, 4.3, 3},
    {5.3, 4.1, 3},
    {6.0, 4.8, 3},
    {5.7, 4.4, 3},
    {5.1, 3.9, 3},
    {5.9, 4.7, 3},
    {5.4, 4.2, 3}
};


  uint16_t colors[] = {0x06ff, 0xf7e0, 0xf800, 0xf81d};

  gfx.drawScatterPlot(50, 30, 200, 150, data,0,sizeof(data)/sizeof(data[0]), colors);

  delay(10000);
}